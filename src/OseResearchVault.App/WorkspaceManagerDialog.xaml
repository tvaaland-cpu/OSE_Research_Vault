<Window x:Class="OseResearchVault.App.WorkspaceManagerDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Workspace Manager" Height="460" Width="700" WindowStartupLocation="CenterOwner">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <StackPanel>
            <DataGrid x:Name="WorkspaceGrid" Height="230" AutoGenerateColumns="False" IsReadOnly="True" SelectionMode="Single">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="180"/>
                    <DataGridTextColumn Header="Path" Binding="{Binding Path}" Width="*"/>
                    <DataGridTextColumn Header="Created" Binding="{Binding CreatedAt}" Width="170"/>
                </DataGrid.Columns>
            </DataGrid>

            <WrapPanel Margin="0,10,0,12">
                <Button Content="Switch" Width="120" Margin="0,0,8,0" Click="Switch_OnClick"/>
                <Button Content="Delete reference" Width="140" Click="DeleteReference_OnClick"/>
                <Button Content="Clone…" Width="120" Margin="8,0,0,0" Click="Clone_OnClick"/>
                <Button Content="Restore from backup…" Width="170" Margin="8,0,0,0" Click="RestoreFromBackup_OnClick"/>
            </WrapPanel>

            <GroupBox Header="Create Workspace" Padding="10">
                <StackPanel>
                    <TextBlock Text="Name"/>
                    <TextBox x:Name="WorkspaceNameTextBox" Margin="0,4,0,8"/>
                    <TextBlock Text="Folder"/>
                    <DockPanel Margin="0,4,0,0">
                        <TextBox x:Name="WorkspaceFolderTextBox" DockPanel.Dock="Left" Margin="0,0,8,0" MinWidth="500"/>
                        <Button Content="Browse…" Width="90" Click="BrowseFolder_OnClick"/>
                    </DockPanel>
                    <Button Content="Create" Width="100" Margin="0,10,0,0" Click="Create_OnClick"/>
                </StackPanel>
            </GroupBox>
        </StackPanel>

        <Button Grid.Row="1" Content="Close" Width="100" HorizontalAlignment="Right" Margin="0,12,0,0" Click="Close_OnClick"/>
    </Grid>
</Window>
